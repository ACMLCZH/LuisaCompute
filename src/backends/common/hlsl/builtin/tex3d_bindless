uint ReadBdlsTex3D(ByteAddressBuffer s,uint idx){
return s.Load(16*idx+8);
}
uint ReadBdlsSmp3D(ByteAddressBuffer s,uint idx){
uint smp=s.Load(16*idx+12);
return smp>>16;
}
float4 SampleTex3DLevel(const ByteAddressBuffer arr,const uint index,const float3 uv,const float level){SamplerState samp=samplers[NonUniformResourceIndex(ReadBdlsSmp3D(arr,index))];return _BindlessTex3D[NonUniformResourceIndex(ReadBdlsTex3D(arr,index))].SampleLevel(samp,uv,level);}
float4 SampleTex3D(const ByteAddressBuffer arr,const uint index,const float3 uv){return SampleTex3DLevel(arr,index,uv,0);}
float4 SampleTex3DGrad(const ByteAddressBuffer arr,const uint index,const float3 uv,const float3 ddx,const float3 ddy){SamplerState samp=samplers[NonUniformResourceIndex(ReadBdlsSmp3D(arr,index))];return _BindlessTex3D[NonUniformResourceIndex(ReadBdlsTex3D(arr,index))].SampleGrad(samp,uv,ddx,ddy);}
float4 ReadTex3DLevel(const ByteAddressBuffer arr,const uint index,const uint3 coord,const Lvl level){return _BindlessTex3D[NonUniformResourceIndex(ReadBdlsTex3D(arr,index))].Load(uint4(coord,level));}
float4 ReadTex3D(const ByteAddressBuffer arr,const uint index,const uint3 coord){return ReadTex3DLevel(arr,index,coord,0);}
uint3 Tex3DSize(const ByteAddressBuffer arr,const uint index){
uint3 s;
uint mip;
_BindlessTex3D[NonUniformResourceIndex(ReadBdlsTex3D(arr,index))].GetDimensions(0,s.x,s.y,s.z,mip);
return s;
}
uint3 Tex3DSizeLevel(const ByteAddressBuffer arr,const uint index,const uint level){
uint3 s;
uint mip;
_BindlessTex3D[NonUniformResourceIndex(ReadBdlsTex3D(arr,index))].GetDimensions(level,s.x,s.y,s.z,mip);
return s;
}